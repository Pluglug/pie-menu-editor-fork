# rules/milestones.md

PME2 é–‹ç™ºã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã¨ãƒ•ã‚§ãƒ¼ã‚ºå®šç¾©ã€‚

---

## åŸºæœ¬æ–¹é‡

### PME1 ã¨ PME2 ã®é–¢ä¿‚

| ãƒ–ãƒ©ãƒ³ãƒ | ç›®çš„ | çŠ¶æ…‹ |
|----------|------|------|
| `main` / `pme1-lts` | PME1 å®‰å®šç‰ˆ (Blender 4.x) | **å®‰å®šæ¸ˆã¿ãƒ»Hotfix ã®ã¿** |
| `pme2-dev` | PME2 é–‹ç™ºç‰ˆ (Blender 5.0+) | **ã‚¢ã‚¯ãƒ†ã‚£ãƒ–é–‹ç™ºä¸­** |

- **PME1 ã¸ã®é‚„å…ƒã¯è¡Œã‚ãªã„**: pme2-dev ã®æˆæœã¯ PME2 å°‚ç”¨
- **ãƒªãƒªãƒ¼ã‚¹è¨ˆç”»**: pme2-dev â†’ ãƒ—ãƒ¬ãƒªãƒªãƒ¼ã‚¹ â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®å®‰å®šå ±å‘Š â†’ æ­£å¼ãƒªãƒªãƒ¼ã‚¹

### é–‹ç™ºã®ç„¦ç‚¹

**ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«æ•´å‚™** ã‚’æœ€å„ªå…ˆã¨ã™ã‚‹ã€‚core å±¤ã®è¨­è¨ˆã¯ã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãŒå®‰å®šã—ã¦ã‹ã‚‰ç€æ‰‹ã™ã‚‹ã€‚

| å„ªå…ˆåº¦ | ä½œæ¥­ | çŠ¶æ…‹ |
|--------|------|------|
| ğŸ”´ æœ€å„ªå…ˆ | ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«æ•´å‚™ï¼ˆReload Scripts æ­£å¼å¯¾å¿œï¼‰ | Phase 3 ã§é–‹å§‹äºˆå®š |
| ğŸŸ¡ æ¬¡ç‚¹ | ç‰©ç†çš„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²ï¼ˆ`infra/`, `ui/`, etc.ï¼‰ | Phase 2 ã§å¤§å¹…é€²æ— |
| ğŸŸ¢ é•·æœŸç›®æ¨™ | core å±¤åˆ†é›¢ / pme å¤–éƒ¨ API | ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«å®‰å®šå¾Œ |

### é€²ã‚æ–¹ã®åŸå‰‡

**ã€Œãƒã‚°ã®åŸå› ã‚’ä¸€ã¤ã«é™å®šã§ãã‚‹é€²ã‚æ–¹ã€** ã‚’é¸ã¶ã€‚

- ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãŒå®‰å®šã™ã‚‹ã¾ã§ core ã«ã¯æ‰‹ã‚’å‡ºã•ãªã„
- è¤‡æ•°ã®å¤‰æ›´ã‚’åŒæ™‚ã«è¡Œã‚ãªã„ï¼ˆå•é¡Œç™ºç”Ÿæ™‚ã®åˆ‡ã‚Šåˆ†ã‘ã‚’å®¹æ˜“ã«ã™ã‚‹ï¼‰
- å„ãƒ•ã‚§ãƒ¼ã‚ºã¯æ˜ç¢ºãªã‚²ãƒ¼ãƒˆæ¡ä»¶ã‚’æŒã¤

**æ–°ãƒ­ãƒ¼ãƒ€ãƒ¼ (`init_addon` / `register_modules`) ã‚’ã‚³ãƒ³ãƒ‘ã‚¹ã¨ã—ã¦ä½¿ç”¨**:
- `DBG_DEPS=True` ã§ãƒ¬ã‚¤ãƒ¤é•åã‚’å¯è¦–åŒ–
- é•åã‚’å‰Šæ¸›ã—ãªãŒã‚‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆ†é›¢ã—ã¦ã„ã
- è©³ç´°ã¯ `rules/cleanup_workflow.md` ã‚’å‚ç…§

---

## v2.0.0-alpha.0 (Phase 1: Layer Separation) âœ… COMPLETED

**ç›®æ¨™**: å†…éƒ¨æ§‹é€ ã®å¯è¦–åŒ–ã¨ãƒ¬ã‚¤ãƒ¤åˆ†é›¢ã®åœŸå°ä½œã‚Š

### å®Œäº†ã—ãŸä½œæ¥­

- [x] æ–°ãƒ­ãƒ¼ãƒ€ãƒ¼ (`init_addon` / `register_modules`) ã®å®Ÿè£…
- [x] ãƒ¬ã‚¤ãƒ¤æ§‹é€ ã®å®šç¾©: `core â†’ infra â†’ ui â†’ editors â†’ operators â†’ prefs`
- [x] ãƒ‡ãƒãƒƒã‚°ã‚¤ãƒ³ãƒ•ãƒ©ã®æ•´å‚™ (`DBG_DEPS`, `DBG_PROFILE`, æ§‹é€ åŒ–ãƒ­ã‚°)
- [x] ä¸€éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ–°ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¸ã®ç§»å‹•
  - `core/constants.py`
  - `infra/debug.py`
  - `ui/layout.py`, `ui/lists.py`, `ui/panels.py`
  - `editors/` é…ä¸‹ (å„ã‚¨ãƒ‡ã‚£ã‚¿)
- [x] æ—§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ã®è–„ã„ãƒ©ãƒƒãƒ‘ãƒ¼ï¼ˆå¾Œæ–¹äº’æ›æ€§ç¶­æŒï¼‰
- [x] ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ã®æ­£è¦åŒ–

### æœªå®Œäº†ï¼ˆPhase 2 ã¸ç¹°ã‚Šè¶Šã—ï¼‰

- [ ] `infra/overlay.py` ã®ä½œæˆï¼ˆåˆæœŸè¨ˆç”»ã«ã‚ã£ãŸãŒæ¼ã‚Œï¼‰
- [ ] `utils/helpers.py` ã®ä½œæˆï¼ˆPreviewsHelper ç­‰ã¯ lifecycle å•é¡ŒãŒã‚ã‚Šä¿ç•™ï¼‰

### ãƒ­ãƒ¼ãƒ€ãƒ¼æ§‹æˆ

ç¾åœ¨ã€2 ã¤ã®ãƒ­ãƒ¼ãƒ€ãƒ¼ãŒå…±å­˜ã—ã¦ã„ã¾ã™ï¼š

| ãƒ•ãƒ©ã‚° | ãƒ­ãƒ¼ãƒ€ãƒ¼ | èª¬æ˜ |
|--------|----------|------|
| `USE_PME2_LOADER = False` | æ—§ãƒ­ãƒ¼ãƒ€ãƒ¼ | `MODULES` ã‚¿ãƒ—ãƒ« + `get_classes()` ã«ã‚ˆã‚‹æ‰‹å‹•é †åºç®¡ç† |
| `USE_PME2_LOADER = True` | æ–°ãƒ­ãƒ¼ãƒ€ãƒ¼ | `init_addon()` + `register_modules()` ã«ã‚ˆã‚‹è‡ªå‹•ä¾å­˜è§£æ±º |

Î± ç³»åˆ—ã§ã¯ä¸¡æ–¹ã‚’å…±å­˜ã•ã›ãªãŒã‚‰ã€æ¼¸é€²çš„ã«æ–°ãƒ­ãƒ¼ãƒ€ãƒ¼ã¸ç§»è¡Œã—ã¾ã™ã€‚æ—§ãƒ­ãƒ¼ãƒ€ãƒ¼ã®å‰Šé™¤ã¯ RC ãƒ•ã‚§ãƒ¼ã‚ºã§å®Ÿæ–½äºˆå®šã€‚

### æˆæœç‰©

- ãƒ¬ã‚¤ãƒ¤é•å 49 ä»¶ã®å¯è¦–åŒ–
- 54 ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç·šå½¢ãƒ­ãƒ¼ãƒ‰é †åº
- register/unregister ã®ä¸¡æ–¹ã§æ–°ãƒ­ãƒ¼ãƒ€ãƒ¼ãŒå‹•ä½œ

---

## v2.0.0-alpha.1 (Phase 2-A: Observation) âœ… COMPLETED

**ç›®æ¨™**: UI ãƒªã‚¹ãƒˆãƒ»Editor åŸºç›¤ãƒ»pme API ã® **ç¾çŠ¶ã‚’ã€Œè¦³æ¸¬ã€ã—ã€æ–‡æ›¸åŒ–ã™ã‚‹**

### æˆæœç‰©

- `rules/ui_list_analysis.md` â€” UI ãƒªã‚¹ãƒˆã®è²¬å‹™åˆ†æ âœ…
- `rules/editor_dependency_map.md` â€” Editor ã®ä¾å­˜é–¢ä¿‚ãƒãƒƒãƒ— âœ…
- `rules/api/pme_api_current.md` â€” pme ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç¾çŠ¶ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª âœ…

---

## v2.0.0-alpha.2 (Phase 2-B: Reload Hotfix + Module Separation) âœ… COMPLETED

**ç›®æ¨™**:
1. Reload Scripts ã®ã€Œå³æ­»ç´šã€å•é¡Œã‚’ãƒ›ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹ã§æŠ‘ãˆã‚‹ âœ…
2. **ç‰©ç†çš„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²ã‚’åŠ é€Ÿã™ã‚‹**ï¼ˆæœ¬ãƒ•ã‚§ãƒ¼ã‚ºã®ä¸»è¦ä½œæ¥­ï¼‰
3. pme å¤–éƒ¨ API ã®ä»•æ§˜ã‚’æ–‡æ›¸åŒ–ã™ã‚‹ï¼ˆå®Ÿè£…ã¯å‡çµï¼‰

### Reload Scripts ãƒ›ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹ âœ… å®Œäº†

**Issue #64 (ParsedData / props)** âœ…:
- [x] `ParsedData.__getattr__()` ã§ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã™
- [x] è­¦å‘Šãƒ­ã‚°ã§å•é¡Œç®‡æ‰€ã‚’è¿½è·¡å¯èƒ½ã«ã—ãŸ

**Issue #65 (previews / icons)** âœ…:
- [x] `refresh()` ã¨ `unregister()` ã« try-except ã‚¬ãƒ¼ãƒ‰ã‚’è¿½åŠ 
- [x] `ph.unregister()` å‘¼ã³å‡ºã—ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ

### ç‰©ç†çš„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²ï¼ˆä¸»è¦ã‚¿ã‚¹ã‚¯ï¼‰ âœ… å®Œäº†

**æ–°ãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’ã‚³ãƒ³ãƒ‘ã‚¹ã«ä½¿ã„ã€ãƒ¬ã‚¤ãƒ¤é•åã‚’å‰Šæ¸›ã—ãªãŒã‚‰åˆ†å‰²ã‚’é€²ã‚ã‚‹ã€‚**

| å¯¾è±¡ | ç§»å‹•å…ˆ | çŠ¶æ…‹ | ãƒªã‚¹ã‚¯ |
|------|--------|------|--------|
| `Overlay`, `Painter`, `Text`, etc. | `infra/overlay.py` | âœ… å®Œäº† | ä½ |
| æ—§ `ed_*.py` ã®ãƒ©ãƒƒãƒ‘ãƒ¼æ•´ç† | - | âœ… ç¢ºèªæ¸ˆã¿ (7/11 ç§»è¡Œæ¸ˆã¿) | ä½ |
| `from ..operators import *` ã®æ˜ç¤ºåŒ– | - | âœ… å®Œäº† | ä½ |
| LAYER å®šæ•°è¿½åŠ ï¼ˆ27 ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰ | - | âœ… å®Œäº† | ä½ |
| ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¾‹å¤–å‡¦ç† | `infra/debug.py` | âœ… å®Œäº† | ä½ |
| extra_operators.py è§£ä½“ | `operators/extras/` | âœ… å®Œäº† | ä½ |
| Script/Hotkey ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ | `operators/script.py`, `operators/hotkey.py` | âœ… å®Œäº† | ä½ |

**é”æˆã—ãŸé•åå‰Šæ¸›**: **46 ä»¶ â†’ 23 ä»¶** (50% å‰Šæ¸›)

**operators/ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åˆ†å‰²çŠ¶æ³**:
- `operators/__init__.py`: 3400+ è¡Œ â†’ 2588 è¡Œï¼ˆ812è¡Œå‰Šæ¸›ï¼‰
- 7 ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« + 1 ã‚µãƒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆextras/ï¼‰ã«åˆ†é›¢
- 37 ã‚¯ãƒ©ã‚¹ã‚’æ•´ç†ï¼ˆå…¨ä½“ç´„178ã‚¯ãƒ©ã‚¹ä¸­ã®ç´„21%ï¼‰

**æ‰‹é †**:
1. `DBG_DEPS=True` ã§ãƒ¬ã‚¤ãƒ¤é•åã‚’ç¢ºèª
2. Low risk ãªé•åã‹ã‚‰å¯¾å‡¦
3. ãƒ†ã‚¹ãƒˆï¼ˆæœ‰åŠ¹åŒ–ãƒ»åŸºæœ¬æ“ä½œãƒ»æ°¸ç¶šåŒ–ï¼‰
4. è©³ç´°ã¯ `rules/cleanup_workflow.md` ã‚’å‚ç…§

### pme API ä»•æ§˜æ–‡æ›¸åŒ– âœ… å®Œäº†ï¼ˆå®Ÿè£…ã¯å‡çµï¼‰

- [x] `rules/api/pme_api_plan.md` ã§ Stability level ã‚’æ–‡æ›¸åŒ– âœ…
- [x] `rules/api/pme_standard_namespace.md` ã§åå‰ç©ºé–“ã‚’å®šç¾© âœ…

> **é‡è¦**: pme API ã® **å®Ÿè£…ã¯å‡çµ**ã€‚å†…éƒ¨æ§‹é€ ãŒå®‰å®šã™ã‚‹ã¾ã§è¨­è¨ˆæ–‡æ›¸ã®ã¿ã‚’ç¶­æŒã™ã‚‹ã€‚
> å®Ÿè£…ã¯ Phase 3 ä»¥é™ã§ã€å†…éƒ¨ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒååˆ†ã«é€²ã‚“ã å¾Œã«æ¤œè¨ã€‚

### å—ã‘å…¥ã‚ŒåŸºæº–

- [x] Reload Scripts ã§ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ãªã„ âœ…
- [x] `infra/overlay.py` ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ âœ…
- [x] Low risk ãªãƒ¬ã‚¤ãƒ¤é•åãŒ 3ã€œ5 ä»¶å‰Šæ¸›ã•ã‚Œã¦ã„ã‚‹ âœ… (24ä»¶å‰Šæ¸›)

---

## v2.0.0-alpha.3 (Phase 2-C: Module Separation Continuation)

**ç›®æ¨™**: ç‰©ç†çš„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²ã®ç¶™ç¶šã¨æ®‹ã‚Š22ä»¶ã®é•åæ•´ç†

Phase 2-B ã§é”æˆã—ãŸé•åå‰Šæ¸›ï¼ˆ46â†’22ä»¶ï¼‰ã‚’ç¶­æŒã—ã¤ã¤ã€æ®‹ã‚Šã®é•åã‚’åˆ†æãƒ»æ•´ç†ã™ã‚‹ã€‚

### æ®‹å­˜ã™ã‚‹é•åã®åˆ†é¡ï¼ˆ22ä»¶ï¼‰

| ã‚«ãƒ†ã‚´ãƒª | ä»¶æ•° | èª¬æ˜ | å¯¾å‡¦æ–¹é‡ |
|----------|------|------|----------|
| `core` é•å | ~8ä»¶ | `pme_types`, `constants` ãŒä¸Šä½å±¤ã‚’ import | Phase 3 ã§å¯¾å‡¦ |
| `editors â†’ operators` | ~4ä»¶ | ãƒœã‚¿ãƒ³ç­‰ã§ operators ã‚’ä½¿ã† | è¨±å®¹å¯èƒ½ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ– |
| `infra â†” ui` | ~6ä»¶ | `bl_utils`, `base` ãŒ `screen` ã‚’ import | æ•´ç†æ¤œè¨ |
| ãã®ä»– | ~4ä»¶ | `preferences` ç­‰ | è¦åˆ†æ |

### è¨ˆç”»ã‚¿ã‚¹ã‚¯

| å¯¾è±¡ | ä½œæ¥­å†…å®¹ | ãƒªã‚¹ã‚¯ | çŠ¶æ…‹ |
|------|----------|--------|------|
| `infra/io.py` | IO ç³»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®åˆ†é›¢ | ä½ã€œä¸­ | âœ… å®Œäº† |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚½ãƒ¼ã‚¹ãƒ‘ã‚¹ | `bpy.utils.user_resource()` å¯¾å¿œ | ä½ | âœ… å®Œäº† |
| ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ‘ã‚¹æ¤œç´¢ | scripts/icons ã®ã‚·ã‚¹ãƒ†ãƒ +ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ | ä½ | âœ… å®Œäº† |
| é•åã®è¨±å®¹ãƒªã‚¹ãƒˆä½œæˆ | æ„å›³çš„ã«è¨±å®¹ã™ã‚‹é•åã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ– | ä½ | - |
| `operators/` ã®æ•´ç† | ç·¨é›†ç³»ãƒ»æ¤œç´¢ç³»ã®åˆ†é¡ | ä¸­ | - |
| `pme_types.py` | `core/` ã¸ã®ç§»å‹•æ¤œè¨ | ä¸­ | - |

### å®Œäº†ã—ãŸä½œæ¥­

**`infra/io.py` ä½œæˆ** âœ…:
- ãƒ•ã‚¡ã‚¤ãƒ« I/O ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆread_import_file, write_export_file, BackupManagerï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚½ãƒ¼ã‚¹ãƒ‘ã‚¹é–¢æ•°ï¼ˆget_user_config_dir, get_user_scripts_dir, get_user_icons_dir, etc.ï¼‰
- ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹ãƒ‘ã‚¹é–¢æ•°ï¼ˆget_system_scripts_dir, get_system_icons_dirï¼‰
- ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ‘ã‚¹ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ï¼ˆiter_script_dirsï¼‰

**ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†** âœ…:
- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: `{user_config}/backups/` ã«ä¿å­˜ï¼ˆã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¾Œã‚‚ç¶­æŒï¼‰
- ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ: `{user_config}/exports/` ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«
- ã‚¹ã‚¯ãƒªãƒ—ãƒˆ: ã‚·ã‚¹ãƒ†ãƒ â†’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é †ã§æ¤œç´¢ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‹¡å¼µå¯èƒ½
- ã‚¢ã‚¤ã‚³ãƒ³: ã‚·ã‚¹ãƒ†ãƒ â†’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é †ã§èª­ã¿è¾¼ã¿ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰å¯èƒ½
- UI ã®ãƒ‘ã‚¹èª˜å°ã‚‚æ›´æ–°ï¼ˆpath_open ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰

### å—ã‘å…¥ã‚ŒåŸºæº–

- [x] ãƒ¬ã‚¤ãƒ¤é•åãŒ 40 ä»¶æœªæº€ï¼ˆPhase 1 æ™‚ç‚¹: 49 ä»¶ï¼‰âœ… **22ä»¶é”æˆ**
- [x] `infra/io.py` ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ âœ…
- [x] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚½ãƒ¼ã‚¹ãŒ Blender æ¨™æº–ãƒ‘ã‚¹ã«ä¿å­˜ã•ã‚Œã‚‹ âœ…
- [ ] è¨±å®¹ã™ã‚‹é•åãŒ `rules/allowed_violations.md` ã«æ–‡æ›¸åŒ–ã•ã‚Œã¦ã„ã‚‹
- [ ] `operators/` ãŒæ•´ç†ã•ã‚Œã¦ã„ã‚‹

---

## v2.0.0-alpha.3 (Phase 3: Lifecycle Sprint) â³ NEXT

**ç›®æ¨™**: ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«å•é¡Œã®æ­£å¼å¯¾å¿œï¼ˆHotfix ã‹ã‚‰ã®å’æ¥­ï¼‰

### ã‚²ãƒ¼ãƒˆæ¡ä»¶

**ä»¥ä¸‹ã®å…¨ã‚·ãƒŠãƒªã‚ªãŒå®‰å®šå‹•ä½œã™ã‚‹ã¾ã§ core ã«ã¯æ‰‹ã‚’å‡ºã•ãªã„**:
- Reload Scriptsï¼ˆF3 â†’ Reload Scriptsï¼‰
- ã‚¢ãƒ‰ã‚ªãƒ³ã® ON/OFFï¼ˆPreferences ã§ã®æœ‰åŠ¹åŒ–/ç„¡åŠ¹åŒ–ï¼‰
- Blender å†èµ·å‹•

### è¨ˆç”»ã‚¿ã‚¹ã‚¯

| ã‚¿ã‚¹ã‚¯ | èª¬æ˜ | çŠ¶æ…‹ |
|--------|------|------|
| `use_reload` ãƒ‘ã‚¿ãƒ¼ãƒ³å°å…¥ | `"addon" in locals()` ã§ã® reload æ¤œçŸ¥ | - |
| props ç™»éŒ²ã®ç§»å‹• | ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¬ãƒ™ãƒ« â†’ `register()` å†…ã«ç§»å‹• | - |
| ParsedData ã‚¯ãƒªã‚¢ãƒã‚¤ãƒ³ãƒˆ | ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®é©åˆ‡ãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç† | - |
| handler/timer ã‚¯ãƒªã‚¢ãƒã‚¤ãƒ³ãƒˆ | ç™»éŒ²è§£é™¤ã®ç¢ºå®Ÿãªå®Ÿè¡Œ | - |
| ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«è¨­è¨ˆæ–‡æ›¸ | `rules/runtime_lifecycle.md` æ–°è¨­ | - |

### `use_reload` ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆå‚è€ƒ: modular_renamerï¼‰

```python
use_reload = "addon" in locals()
if use_reload:
    import importlib
    importlib.reload(locals()["addon"])
    del importlib

from . import addon

addon.init_addon(...)
```

### å—ã‘å…¥ã‚ŒåŸºæº–

- [ ] Reload Scripts å®Ÿè¡Œå¾Œã‚‚å…¨æ©Ÿèƒ½ãŒå‹•ä½œ
- [ ] ã‚¢ãƒ‰ã‚ªãƒ³ ON/OFF ç¹°ã‚Šè¿”ã—ã§ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] Blender å†èµ·å‹•å¾Œã‚‚è¨­å®šãŒç¶­æŒã•ã‚Œã‚‹
- [ ] `rules/runtime_lifecycle.md` ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹

---

## v2.0.0-beta.1 (Phase 4-A: Core Layer â€“ Props & Context)

**ç›®æ¨™**: pme.py ã®å†…éƒ¨å®Ÿè£…ã‚’ core å±¤ã«åˆ†é›¢

> **å‰ææ¡ä»¶**: Phase 3 ã®ã‚²ãƒ¼ãƒˆæ¡ä»¶ã‚’ã™ã¹ã¦ã‚¯ãƒªã‚¢ã—ã¦ã„ã‚‹ã“ã¨

### è¨ˆç”»ã‚¿ã‚¹ã‚¯

- [ ] `PMEContext` ã‚’ `core/executor.py` ã«ç§»å‹•
- [ ] `PMEProps`, `ParsedData` ã‚’ `core/` ã«ç§»å‹•
- [ ] `pme.py` ã‚’è–„ã„ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ã«å¤‰æ›´

### å—ã‘å…¥ã‚ŒåŸºæº–

- [ ] core å±¤ãŒ Blender ä¾å­˜ã‚’æœ€å°åŒ–
- [ ] ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚·ãƒŠãƒªã‚ªãŒå¼•ãç¶šãå®‰å®šå‹•ä½œ

---

## v2.0.0-beta.2 (Phase 4-B: Core Layer â€“ Namespace & Integration)

**ç›®æ¨™**: æ¨™æº–åå‰ç©ºé–“ã¨å¤–éƒ¨ API ã®åŸºç›¤æ•´å‚™

### è¨ˆç”»ã‚¿ã‚¹ã‚¯

- [ ] `core/namespace.py` ã«æ¨™æº–åå‰ç©ºé–“ã‚’å®šç¾©
- [ ] `pme.execute()` / `pme.evaluate()` ã®ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰å®Ÿè£…
- [ ] å¤–éƒ¨ãƒ„ãƒ¼ãƒ«ã‹ã‚‰ã®åˆ©ç”¨ã‚·ãƒŠãƒªã‚ªã‚’æ¤œè¨¼

### å—ã‘å…¥ã‚ŒåŸºæº–

- [ ] å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰ `pme.execute()` ãŒå‹•ä½œ
- [ ] ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚·ãƒŠãƒªã‚ªãŒå¼•ãç¶šãå®‰å®šå‹•ä½œ

---

## v2.0.0-RC (Release Candidate)

**ç›®æ¨™**: PME2 ã®å®‰å®šãƒªãƒªãƒ¼ã‚¹æº–å‚™

### å‰ææ¡ä»¶

- Phase 1ã€œ3 ã®å…¨ã‚¿ã‚¹ã‚¯å®Œäº†
- Reload Scripts ãŒå®‰å®šå‹•ä½œ
- ãƒ¬ã‚¤ãƒ¤é•åãŒè¨±å®¹ç¯„å›²å†…

### è¨ˆç”»ã‚¿ã‚¹ã‚¯

- [ ] æ—§ãƒ­ãƒ¼ãƒ€ãƒ¼ï¼ˆ`MODULES` ã‚¿ãƒ—ãƒ«ï¼‰ã®å‰Šé™¤
- [ ] ãƒ¬ã‚¤ãƒ¤é•åã®è¨±å®¹ãƒªã‚¹ãƒˆã‚’æ–‡æ›¸åŒ–
- [ ] `core/` å±¤ã®æœ€ä½é™ã®è‡ªå‹•ãƒ†ã‚¹ãƒˆå°å…¥
- [ ] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰ (PME1 â†’ PME2)

### ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹

1. RC ã‚¿ã‚°ã‚’ä½œæˆ
2. ãƒ—ãƒ¬ãƒªãƒªãƒ¼ã‚¹ã¨ã—ã¦å…¬é–‹
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®å®‰å®šå ±å‘Šã‚’åé›†
4. é‡å¤§ãªå•é¡ŒãŒãªã‘ã‚Œã°æ­£å¼ãƒªãƒªãƒ¼ã‚¹

---

## Post v2.0.0 (å°†æ¥è¨ˆç”»)

v2.0.0 ãƒªãƒªãƒ¼ã‚¹å¾Œã®è¨ˆç”»ã€‚

### pme å¤–éƒ¨ API ã®å®Ÿè£…

> **æ³¨æ„**: è¨­è¨ˆæ–‡æ›¸ã¯ Phase 2-B ã§å®Œäº†æ¸ˆã¿ã€‚å®Ÿè£…ã¯ v2.0.0 ãƒªãƒªãƒ¼ã‚¹å¾Œã«æ¤œè¨ã€‚

å†…éƒ¨æ§‹é€ ãŒå®‰å®šã—ãŸå¾Œã«ã€ä»¥ä¸‹ã‚’å®Ÿè£…æ¤œè¨:

- `pme.execute()` / `pme.evaluate()` ã®å®Ÿè£…
- `pme.find_pm()` / `pme.invoke_pm()` ã®å®Ÿè£…
- Stability level ã® Stable æ˜‡æ ¼ï¼ˆv2.1.0 ä»¥é™ï¼‰

è©³ç´°ã¯ `rules/api/pme_api_plan.md` ã‚’å‚ç…§ã€‚

### pme ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å†æ§‹æˆ

**ç›®æ¨™**: `pme.py` ã‚’ç´”ç²‹ãªã€Œå¤–éƒ¨å‘ã‘ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ã€ã«å†æ§‹æˆã™ã‚‹

1. `PMEContext`, `PMEProps`, `ParsedData` ã‚’ `core/` å±¤ã«ç§»å‹•
2. `pme.py` ã‚’è–„ã„ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ã«å¤‰æ›´
3. å†…éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ `addon` çµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

- å¤§é‡ã®ãƒ‘ã‚¤ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ™‚ã®èµ·å‹•é€Ÿåº¦æ”¹å–„
- PropertyGroup ã®é…å»¶åˆæœŸåŒ–
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®è¦‹ç›´ã—

### Import ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ•´ç†

**ç›®æ¨™**: `import X as Y` ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ˜ç¤ºçš„ãª cherry-pick import ã«ç½®ãæ›ãˆã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½ã§æ˜ç¢ºã«åˆ†é›¢ã™ã‚‹ã€‚

```python
# Before
from . import utils as U
from ..core import constants as CC

# After
from .utils import specific_function
from ..core.constants import MAX_STR_LEN, EMODE_ITEMS
```

è©³ç´°ã¯ `rules/dependency_cleanup_plan.md` ã®ã€Œé•·æœŸç›®æ¨™ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã€‚

---

## ãƒ•ã‚§ãƒ¼ã‚ºé–“ã®é–¢ä¿‚å›³

```mermaid
flowchart LR
    subgraph Alpha["Alpha ç³»åˆ—"]
        P1["Phase 1<br/>alpha.0 âœ…<br/>ãƒ¬ã‚¤ãƒ¤åˆ†é›¢"]
        P2A["Phase 2-A<br/>alpha.1 âœ…<br/>è¦³æ¸¬ãƒ»æ–‡æ›¸åŒ–"]
        P2B["Phase 2-B<br/>alpha.2 âœ…<br/>Hotfix +<br/>åˆ†å‰²å®Œäº†"]
        P3["Phase 3<br/>alpha.3 â³<br/>Lifecycle<br/>Sprint"]
    end

    subgraph Beta["Beta ç³»åˆ—"]
        P4A["Phase 4-A<br/>beta.1<br/>Core Layer<br/>Props"]
        P4B["Phase 4-B<br/>beta.2<br/>Core Layer<br/>API"]
    end

    RC["RC<br/>å®‰å®šãƒªãƒªãƒ¼ã‚¹"]

    P1 --> P2A --> P2B --> P3 --> P4A --> P4B --> RC

    subgraph Gate["ã‚²ãƒ¼ãƒˆæ¡ä»¶"]
        G[/"Lifecycle<br/>å…¨ã‚·ãƒŠãƒªã‚ªé€šé"/]
    end

    P3 -.-> G
    G -.-> P4A

    style P1 fill:#90EE90
    style P2A fill:#90EE90
    style P2B fill:#90EE90
    style P3 fill:#FFD700
    style G fill:#FF6B6B
    style RC fill:#87CEEB
```

### ãƒ•ã‚§ãƒ¼ã‚ºã®æ–¹é‡

| ãƒ•ã‚§ãƒ¼ã‚º | æ–¹é‡ | ä¸»è¦ä½œæ¥­ |
|----------|------|---------|
| alpha.0 âœ… | ãƒ¬ã‚¤ãƒ¤åˆ†é›¢ | æ–°ãƒ­ãƒ¼ãƒ€ãƒ¼ã€ãƒ‡ãƒãƒƒã‚°ã‚¤ãƒ³ãƒ•ãƒ© |
| alpha.1 âœ… | è¦³æ¸¬ | æ–‡æ›¸åŒ– |
| alpha.2 âœ… | åˆ†å‰²å®Œäº† | `infra/overlay.py`, `operators/` åˆ†å‰² |
| alpha.3 â³ | Lifecycle Sprint | use_reload, props ç™»éŒ²ã€ã‚¯ãƒªã‚¢ãƒã‚¤ãƒ³ãƒˆ |
| beta.1 | Core Layer | PMEContext, ParsedData ã‚’ core ã«ç§»å‹• |
| beta.2 | Core API | pme.execute() ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰å®Ÿè£… |
| RC | æ•´ç† | æ—§ãƒ­ãƒ¼ãƒ€ãƒ¼å‰Šé™¤ã€ãƒ†ã‚¹ãƒˆæ•´å‚™ |

---

## æ–°ãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’ã‚³ãƒ³ãƒ‘ã‚¹ã¨ã—ã¦ä½¿ã†

ç‰©ç†çš„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²ã®é€²æ—ã¯ã€æ–°ãƒ­ãƒ¼ãƒ€ãƒ¼ã®ãƒ¬ã‚¤ãƒ¤é•åæ¤œå‡ºã§æ¸¬å®šã™ã‚‹ã€‚

### ä½¿ã„æ–¹

```bash
# Blender èµ·å‹•æ™‚ã«è‡ªå‹•å‡ºåŠ›ã€ã¾ãŸã¯
python .claude/scripts/analyze_deps_log.py
```

### ç›®æ¨™

| ãƒ•ã‚§ãƒ¼ã‚º | é•åæ•°ç›®æ¨™ | å‚™è€ƒ |
|----------|-----------|------|
| Phase 1 å®Œäº†æ™‚ | 49 ä»¶ | åˆæœŸæ¸¬å®šå€¤ |
| alpha.3 å®Œäº†æ™‚ | < 40 ä»¶ | 10 ä»¶ä»¥ä¸Šå‰Šæ¸› |
| beta å®Œäº†æ™‚ | < 30 ä»¶ | ä¸»è¦é•åã‚’è§£æ¶ˆ |
| RC | è¨±å®¹ãƒªã‚¹ãƒˆåŒ– | æ®‹ã‚Šã¯æ–‡æ›¸åŒ–ã—ã¦è¨±å®¹ |

è©³ç´°ã¯ `rules/cleanup_workflow.md` ã‚’å‚ç…§ã€‚
