# Runtime Lifecycle Design (Phase 3)

PME2 ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«å•é¡Œã®åˆ†æã¨è§£æ±ºè¨ˆç”»ã€‚

---

## ç›®çš„

Blender ã‚¢ãƒ‰ã‚ªãƒ³ã«ã¯ 3 ã¤ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚·ãƒŠãƒªã‚ªãŒã‚ã‚‹ï¼š

| ã‚·ãƒŠãƒªã‚ª | ç™ºç”Ÿæ¡ä»¶ | æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ |
|----------|---------|---------------|
| **Reload Scripts** | F3 â†’ Reload Scripts | å…¨æ©Ÿèƒ½ãŒå‹•ä½œç¶™ç¶š |
| **ON/OFF åˆ‡ã‚Šæ›¿ãˆ** | Preferences ã§ã‚¢ãƒ‰ã‚ªãƒ³æœ‰åŠ¹åŒ–/ç„¡åŠ¹åŒ– | ã‚¯ãƒªãƒ¼ãƒ³ãªå†ç™»éŒ² |
| **Blender å†èµ·å‹•** | Blender ã‚’é–‰ã˜ã¦å†èµ·å‹• | è¨­å®šãŒæ°¸ç¶šåŒ–ã•ã‚Œã¦ã„ã‚‹ |

**Phase 3 ã®ã‚´ãƒ¼ãƒ«**: ä¸Šè¨˜ 3 ã‚·ãƒŠãƒªã‚ªã™ã¹ã¦ã§ã‚¨ãƒ©ãƒ¼ãªãå‹•ä½œã™ã‚‹ã“ã¨ã€‚

---

## ç¾çŠ¶ã®å•é¡Œï¼ˆReload Scripts å¾Œã®å¤±æ•—ï¼‰

### å¤±æ•—ãƒ­ã‚°ã®è¦ç´„

```
Reload Scripts å¾Œã®å† Register:
  - 186 classes registeredï¼ˆåˆå› 178 â†’ 8 å¢—åŠ ï¼‰
  - 67 modules ä¸­ 66 ã¯åˆæœŸåŒ–æˆåŠŸ
  - preferences ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã ã‘ãŒ init å¤±æ•—

å¤±æ•—ã®ç›´æ¥åŸå› :
  preferences.register()
    â†’ pr.init_menus()
      â†’ editors.property.init_pm(pm)
        â†’ register_user_property(pm)
          â†’ pm.get_data("vector")
            â†’ pp.parse(self.data)
              â†’ ParsedData.__getattr__("vector")
                â†’ AttributeError: 'ParsedData' object has no attribute 'vector'
```

### å•é¡Œã®æ§‹é€ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ å•é¡Œ 0: pme_types.py ã®å¤ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å‚ç…§ï¼ˆæ ¹æœ¬åŸå› ï¼‰     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - pme_types.py:19 ã§ `from .pme import props as pp` ã¨å®šç¾©     â”‚
â”‚ - Reload æ™‚ã€pme.py ãŒãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œæ–°ã—ã„ props ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆâ”‚
â”‚ - ã—ã‹ã— pme_types.py ã® pp ã¯å¤ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å‚ç…§ã—ç¶šã‘ã‚‹   â”‚
â”‚ - editors/property.py ã¯æ–°ã—ã„ pme.props ã« vector ã‚’ç™»éŒ²      â”‚
â”‚ - pm.get_data() â†’ pp.parse() â†’ å¤ã„ prop_map â†’ AttributeError  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å•é¡Œ 1: props ç™»éŒ²ã‚¿ã‚¤ãƒŸãƒ³ã‚°                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - pme.props.*Property() ãŒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¬ãƒ™ãƒ«ã§å‘¼ã°ã‚Œã‚‹            â”‚
â”‚ - Reload å¾Œã€prop_map ã®çŠ¶æ…‹ãŒä¸æ•´åˆ                           â”‚
â”‚ - "vector" ãŒ prop_map ã«ç™»éŒ²ã•ã‚Œã‚‹å‰ã«å‚ç…§ã•ã‚Œã‚‹              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å•é¡Œ 2: åˆæœŸåŒ–é †åº                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - preferences.init_menus() ãŒå…ˆã«èµ°ã‚‹                          â”‚
â”‚ - editors/property.py ã® props ç™»éŒ²ãŒå¾Œ                        â”‚
â”‚ - â†’ "vector" ãŒè¦‹ã¤ã‹ã‚‰ãªã„                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å•é¡Œ 3: ã‚¯ãƒ©ã‚¹é‡è¤‡ç™»éŒ² (178 â†’ 186)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ä¸€éƒ¨ã‚¯ãƒ©ã‚¹ãŒ unregister ã§å®Œå…¨ã«ã‚¯ãƒªã‚¢ã•ã‚Œã¦ã„ãªã„           â”‚
â”‚ - "has been registered before" è­¦å‘Š                            â”‚
â”‚ - å¯¾è±¡: WM_OT_pme_user_pie_menu_call, PME_OT_exec, etc.        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å•é¡Œ 4: å¾ªç’°ä¾å­˜                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - preferences â†’ operators.io â†’ preferences                     â”‚
â”‚ - topological sort å¤±æ•— â†’ alternative sort                     â”‚
â”‚ - ãƒ­ãƒ¼ãƒ‰é †åºãŒä¸å®‰å®šã«ãªã‚‹å¯èƒ½æ€§                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¹æœ¬åŸå› ã®è©³ç´°åˆ†æ

### å•é¡Œ 0: `pme_types.py` ã®å¤ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å‚ç…§

**ç™ºè¦‹ç®‡æ‰€**: `pme_types.py:19`

```python
from .pme import props as pp  # â† ã“ã“ã§å¤ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥
```

**Reload æ™‚ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹**:

```
1. pme.py ãŒãƒªãƒ­ãƒ¼ãƒ‰
   â””â”€â”€ props = PMEProps() â† æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
   â””â”€â”€ prop_map = {} â† ç©ºã®è¾æ›¸

2. pme_types.py ã¯ãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œãªã„ï¼ˆã¾ãŸã¯å¤ã„å‚ç…§ã‚’ä¿æŒï¼‰
   â””â”€â”€ pp ã¯å¤ã„ pme.props ã‚’å‚ç…§

3. editors/property.py ãŒãƒªãƒ­ãƒ¼ãƒ‰
   â””â”€â”€ pme.props.IntProperty("prop", "vector", 1)
   â””â”€â”€ æ–°ã—ã„ pme.props.prop_map ã«ç™»éŒ²

4. preferences.register() ãŒå‘¼ã°ã‚Œã‚‹
   â””â”€â”€ pr.init_menus()
   â””â”€â”€ pm.ed.init_pm(pm) [editors/property.py ã® Editor]
   â””â”€â”€ register_user_property(pm)
   â””â”€â”€ pm.get_data("vector")
   â””â”€â”€ pp.parse(self.data) â† pp ã¯å¤ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼
   â””â”€â”€ å¤ã„ prop_map ã«ã¯ vector ãŒãªã„
   â””â”€â”€ AttributeError
```

**å›³è§£**:

```
åˆå›ãƒ­ãƒ¼ãƒ‰å¾Œ:
  pme.props â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”œâ”€â”€â†’ prop_map: {vector: PMEProp(...), ...}
  pme_types.pp â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Reload å¾Œ:
  pme.props (æ–°) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ prop_map: {vector: PMEProp(...), ...}

  pme_types.pp (å¤) â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ prop_map: {} â† ç©ºï¼

  pm.get_data("vector")
    â””â”€â”€ pp.parse() â† å¤ã„ pp ã‚’ä½¿ç”¨
    â””â”€â”€ vector ãŒè¦‹ã¤ã‹ã‚‰ãªã„ â†’ AttributeError
```

---

## props ç™»éŒ²ç®‡æ‰€ä¸€è¦§

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¬ãƒ™ãƒ«ã§ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

| ãƒ•ã‚¡ã‚¤ãƒ« | type | ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ |
|---------|------|-----------|
| `editors/pie_menu.py:15-18` | `pm` | `pm_radius`, `pm_confirm`, `pm_threshold`, `pm_flick` |
| `editors/menu.py:600` | `rm` | `rm_title` |
| `editors/popup.py:1649-1706` | `row`, `pd` | `layout`, `width`, `poll`, `fixed_col`, `fixed_but`, `align`, `column`, `pd_row`, `pd_box`, `pd_panel`, `pd_expand` |
| `editors/panel_group.py:683-687` | `pg` | `pg_wicons`, `pg_context`, `pg_category`, `pg_space`, `pg_region` |
| `ed_modal.py:25-27` | `mo` | `confirm`, `block_ui`, `lock` |
| `ed_stack_key.py:5-6` | `s` | `s_undo`, `s_state` |
| `ed_sticky_key.py:48` | `sk` | `sk_block_ui` |
| **`editors/property.py`** | `prop` | **`vector`, etc.** â† è¦èª¿æŸ» |

### å•é¡Œã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

```python
# ç¾çŠ¶: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¬ãƒ™ãƒ«ã§ç™»éŒ²
# editors/pie_menu.py
pme.props.IntProperty("pm", "pm_radius", -1)  # import æ™‚ã«å®Ÿè¡Œ

class Editor(EditorBase):
    ...

# Reload å¾Œã®å•é¡Œ:
# 1. pme.props.prop_map ãŒã‚¯ãƒªã‚¢ã•ã‚Œã‚‹ï¼ˆã¾ãŸã¯ä¸å®Œå…¨ï¼‰
# 2. editors/property.py ãŒ import ã•ã‚Œã‚‹å‰ã«
# 3. preferences.init_menus() ãŒ pm.get_data("vector") ã‚’å‘¼ã¶
# 4. â†’ AttributeError
```

---

## è§£æ±ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

### ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ D: pp å‚ç…§ã‚’å‹•çš„ã«ã™ã‚‹ï¼ˆğŸ”´ æœ€å„ªå…ˆãƒ»æœ€å°å¤‰æ›´ï¼‰

**æ ¹æœ¬åŸå› ã§ã‚ã‚‹å•é¡Œ 0 ã‚’ç›´æ¥è§£æ±ºã™ã‚‹ã€‚**

```python
# Before: pme_types.py:19
from .pme import props as pp  # â† å¤ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥

# After: pme_types.py
from . import pme  # pme ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ import

# ä½¿ç”¨ç®‡æ‰€ã§ pme.props ã‚’ç›´æ¥å‚ç…§
def get_data(self, key):
    value = getattr(pme.props.parse(self.data), key)  # pp â†’ pme.props
    return value
```

**ãƒ¡ãƒªãƒƒãƒˆ**:
- æ ¹æœ¬åŸå› ã‚’ç›´æ¥è§£æ±º
- å¤‰æ›´ç®‡æ‰€ãŒæœ€å°é™ï¼ˆpme_types.py ã®ã¿ï¼‰
- å¸¸ã«æœ€æ–°ã® pme.props ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å‚ç…§

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- pme_types.py å†…ã® pp ä½¿ç”¨ç®‡æ‰€ã‚’å…¨ã¦ä¿®æ­£ã™ã‚‹å¿…è¦
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿ã¯è»½å¾®ï¼ˆå±æ€§ã‚¢ã‚¯ã‚»ã‚¹ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ï¼‰

**å¤‰æ›´å¯¾è±¡**: `pme_types.py` ã® `pp` ä½¿ç”¨ç®‡æ‰€ï¼ˆç´„ 3-4 ç®‡æ‰€ï¼‰

---

### ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ A: props ç™»éŒ²ã‚’ register() ã«ç§»å‹•ï¼ˆæ¨å¥¨ï¼‰

```python
# Before: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ¬ãƒ™ãƒ«
pme.props.IntProperty("pm", "pm_radius", -1)

class Editor(EditorBase):
    ...

# After: register() å†…ã§ç™»éŒ²
class Editor(EditorBase):
    ...

def register():
    pme.props.IntProperty("pm", "pm_radius", -1)
    # ...
```

**ãƒ¡ãƒªãƒƒãƒˆ**:
- ç™»éŒ²ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒæ˜ç¢º
- unregister() ã§å¯¾å¿œã™ã‚‹ã‚¯ãƒªã‚¢å‡¦ç†ãŒæ›¸ã‘ã‚‹
- Blender ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«æ²¿ã£ãŸè¨­è¨ˆ

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- å…¨ Editor ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ãŒå¿…è¦
- æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¸ã®å½±éŸ¿ç¯„å›²ãŒå¤§ãã„

### ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ B: props ç™»éŒ²é †åºã®ä¿è¨¼ï¼ˆæš«å®šï¼‰

```python
# addon.py ã® register_modules() ã§
# props ç™»éŒ²ã‚’å«ã‚€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æœ€åˆã«åˆæœŸåŒ–

def register_modules():
    # Phase 1: props ç™»éŒ²ï¼ˆEditor ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰
    for mod in EDITOR_MODULES:
        mod.register()

    # Phase 2: preferences åˆæœŸåŒ–
    preferences.register()
```

**ãƒ¡ãƒªãƒƒãƒˆ**:
- ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãŒæœ€å°é™
- æ—¢å­˜æ§‹é€ ã‚’ç¶­æŒ

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- é †åºä¾å­˜ãŒæš—é»™çš„
- å°†æ¥ã®å¤‰æ›´ã§å£Šã‚Œã‚„ã™ã„

### ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ C: ParsedData ã®é…å»¶è©•ä¾¡ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¼·åŒ–ï¼‰

```python
# pme.py ã® ParsedData.__getattr__ ã‚’å¼·åŒ–
def __getattr__(self, name):
    # prop_map ã‹ã‚‰å‹•çš„ã«è§£æ±ºã‚’è©¦ã¿ã‚‹
    prop = props.get(name)
    if prop and prop.type == self.type:
        return prop.default

    # è¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯è­¦å‘Š + ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
    logh("WARN", f"Unknown prop: {name}")
    return None  # ã¾ãŸã¯å‹æ¨æ¸¬
```

**ãƒ¡ãƒªãƒƒãƒˆ**:
- æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¸ã®å½±éŸ¿ãªã—
- å³åº§ã«é©ç”¨å¯èƒ½

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- æ ¹æœ¬è§£æ±ºã§ã¯ãªã„
- ãƒ‡ãƒãƒƒã‚°ãŒå›°é›£ã«ãªã‚‹å¯èƒ½æ€§

---

## å®Ÿè£…è¨ˆç”»

### Sprint 0: æ ¹æœ¬åŸå› ã®ä¿®æ­£ï¼ˆğŸ”´ æœ€å„ªå…ˆï¼‰

| # | ã‚¿ã‚¹ã‚¯ | ãƒªã‚¹ã‚¯ | çŠ¶æ…‹ |
|---|--------|--------|------|
| 0.1 | `pme_types.py` ã® `pp` ä½¿ç”¨ç®‡æ‰€ã‚’ç‰¹å®š | Low | âœ… å®Œäº† |
| 0.2 | `from .pme import props as pp` ã‚’ `from . import pme` ã«å¤‰æ›´ | Low | - |
| 0.3 | `pp.xxx` ã‚’ `pme.props.xxx` ã«ç½®æ›ï¼ˆç´„ 3-4 ç®‡æ‰€ï¼‰ | Low | - |
| 0.4 | `_FALLBACK_DEFAULTS` ã« `vector` ç­‰ã‚’è¿½åŠ ï¼ˆæš«å®š hotfixï¼‰ | Low | - |
| 0.5 | Reload Scripts ãƒ†ã‚¹ãƒˆ | - | - |

---

### Sprint 1: èª¿æŸ»ã¨è¨­è¨ˆï¼ˆ1-2 æ—¥ï¼‰

| # | ã‚¿ã‚¹ã‚¯ | æˆæœç‰© | çŠ¶æ…‹ |
|---|--------|--------|------|
| 1.1 | `editors/property.py` ã® props ç™»éŒ²ç®‡æ‰€ã‚’ç‰¹å®š | ç™»éŒ²ä¸€è¦§ã®è¿½è¨˜ | âœ… å®Œäº† |
| 1.2 | `preferences.init_menus()` ã®å‘¼ã³å‡ºã—ãƒ•ãƒ­ãƒ¼ã‚’è¿½è·¡ | ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ | âœ… å®Œäº† |
| 1.3 | å¾ªç’°ä¾å­˜ `preferences â†” operators.io` ã®åŸå› ç‰¹å®š | ä¾å­˜ã‚°ãƒ©ãƒ• | - |
| 1.4 | ã‚¯ãƒ©ã‚¹é‡è¤‡ç™»éŒ²ï¼ˆ178 â†’ 186ï¼‰ã®åŸå› ç‰¹å®š | é‡è¤‡ã‚¯ãƒ©ã‚¹ä¸€è¦§ | - |

### Sprint 2: å¾ªç’°ä¾å­˜ã®è§£æ¶ˆï¼ˆ1-2 æ—¥ï¼‰

| # | ã‚¿ã‚¹ã‚¯ | ãƒªã‚¹ã‚¯ |
|---|--------|--------|
| 2.1 | `operators/io.py` ã‹ã‚‰ `preferences` ã¸ã®ä¾å­˜ã‚’ç‰¹å®š | Low |
| 2.2 | ä¾å­˜ã‚’æ–­ã¡åˆ‡ã‚‹æ–¹æ³•ã‚’æ±ºå®šï¼ˆãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ or åˆ†é›¢ï¼‰ | Medium |
| 2.3 | å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ | Medium |

### Sprint 3: props ç™»éŒ²ã®ä¿®æ­£ï¼ˆ2-3 æ—¥ï¼‰

| # | ã‚¿ã‚¹ã‚¯ | ãƒªã‚¹ã‚¯ |
|---|--------|--------|
| 3.1 | ã‚¢ãƒ—ãƒ­ãƒ¼ãƒæ±ºå®šï¼ˆA/B/C ã®ã„ãšã‚Œã‹ï¼‰ | - |
| 3.2 | 1 ã¤ã® Editor ã§è©¦é¨“å®Ÿè£… | Low |
| 3.3 | å…¨ Editor ã«é©ç”¨ | Medium |
| 3.4 | ParsedData ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢å‡¦ç†è¿½åŠ  | Medium |

### Sprint 4: use_reload ãƒ‘ã‚¿ãƒ¼ãƒ³å°å…¥ï¼ˆ1 æ—¥ï¼‰

| # | ã‚¿ã‚¹ã‚¯ | ãƒªã‚¹ã‚¯ |
|---|--------|--------|
| 4.1 | `__init__.py` ã« `use_reload` ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£… | Low |
| 4.2 | æ˜ç¤ºçš„ãª reload æ™‚ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å‡¦ç†è¿½åŠ  | Medium |

### Sprint 5: æ¤œè¨¼ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ1 æ—¥ï¼‰

| # | ã‚¿ã‚¹ã‚¯ | æˆæœç‰© |
|---|--------|--------|
| 5.1 | 3 ã‚·ãƒŠãƒªã‚ªã®ãƒ†ã‚¹ãƒˆå®Ÿæ–½ | ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ |
| 5.2 | æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–° | æœ€çµ‚ç‰ˆ |
| 5.3 | `milestones.md` ã® Phase 3 ã‚’å®Œäº†ã«ãƒãƒ¼ã‚¯ | - |

---

## ã‚²ãƒ¼ãƒˆæ¡ä»¶ï¼ˆPhase 3 å®Œäº†åˆ¤å®šï¼‰

ä»¥ä¸‹ã®ã™ã¹ã¦ãŒ pass ã™ã‚‹ã“ã¨ï¼š

### Reload Scripts ãƒ†ã‚¹ãƒˆ

- [ ] F3 â†’ Reload Scripts ã‚’å®Ÿè¡Œ
- [ ] Python ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¨ãƒ©ãƒ¼ãªã—ï¼ˆè­¦å‘Šã¯è¨±å®¹ï¼‰
- [ ] Preferences ãƒ‘ãƒãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] æ—¢å­˜ã® Pie Menu ãŒå‘¼ã³å‡ºã›ã‚‹
- [ ] æ–°è¦ Pie Menu ã‚’ä½œæˆã§ãã‚‹

### ON/OFF åˆ‡ã‚Šæ›¿ãˆãƒ†ã‚¹ãƒˆ

- [ ] Preferences ã§ã‚¢ãƒ‰ã‚ªãƒ³ã‚’ç„¡åŠ¹åŒ–
- [ ] å†åº¦æœ‰åŠ¹åŒ–
- [ ] ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] è¨­å®šãŒç¶­æŒã•ã‚Œã¦ã„ã‚‹

### Blender å†èµ·å‹•ãƒ†ã‚¹ãƒˆ

- [ ] Blender ã‚’çµ‚äº†
- [ ] å†èµ·å‹•
- [ ] ã‚¢ãƒ‰ã‚ªãƒ³ãŒè‡ªå‹•æœ‰åŠ¹åŒ–ã•ã‚Œã‚‹
- [ ] å…¨è¨­å®šãŒç¶­æŒã•ã‚Œã¦ã„ã‚‹

---

## å‚ç…§

- `rules/milestones.md` â€” ãƒ•ã‚§ãƒ¼ã‚ºå®šç¾©
- `rules/editor_dependency_map.md` â€” Editor ã®ä¾å­˜é–¢ä¿‚
- `rules/api/pme_api_current.md` â€” pme ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç¾çŠ¶
- `pme.py` â€” PMEProps, ParsedData ã®å®Ÿè£…
- `addon.py` â€” init_addon, register_modules ã®å®Ÿè£…
